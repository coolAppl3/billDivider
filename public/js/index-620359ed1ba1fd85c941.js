(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function r(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:String(n)}const o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,o;return r=e,(o=[{key:"get",value:function(e){if(e){var t=this._createCookieMap();if(t){var n=t.get("".concat(e));if(n)return n}}}},{key:"set",value:function(e,t,n){var r=this._setCookieExpiryDate(n);document.cookie=r?"".concat(e,"=").concat(t,"; expires=").concat(r,"; path=/"):"".concat(e,"=").concat(t,"; path=/")}},{key:"remove",value:function(e){document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/")}},{key:"_createCookieMap",value:function(){if(document.cookie){var e,n=document.cookie.split(";"),r=new Map,o=function(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw a}}}}(n);try{for(o.s();!(e=o.n()).done;){var i=e.value,a=i.split("=")[0].trim(),c=i.split("=")[1].trim();r.set(a,c)}}catch(e){o.e(e)}finally{o.f()}return r}}},{key:"_setCookieExpiryDate",value:function(e){if(e&&"number"==typeof e){var t=(new Date).getTime();return new Date(t+e).toUTCString()}}}])&&n(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}();var i=new o;const a=function(){return i.get("loginToken")};function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:String(t)}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"display",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cta",n=arguments.length>2?arguments[2]:void 0;if(!document.querySelector(".confirm-modal")){var r=this._create(e,t,n);document.body.appendChild(r),r.style.display="block",requestAnimationFrame((function(){requestAnimationFrame((function(){r.style.opacity="1"}))}))}}},{key:"remove",value:function(){var e=document.querySelector(".confirm-modal");e&&e.remove()}},{key:"isExitClick",value:function(e){return!(!e.target.classList.contains("container")&&!e.target.classList.contains("confirm-modal")&&"confirmModalCancelBtn"!==e.target.id)}},{key:"_create",value:function(e,t,n){var r=document.createElement("div");r.className="confirm-modal";var o=document.createElement("div");o.className="container";var i=document.createElement("div");i.className="confirm-modal-container";var a=this._createConfirmMessage(e),c=this._createBtnContainer(t,n);return i.appendChild(a),i.appendChild(c),o.appendChild(i),r.appendChild(o),r}},{key:"_createBtnContainer",value:function(e,t){var n=document.createElement("div");n.className="btn-container";var r=document.createElement("button");r.className="btn btn-".concat(e||"cta"),r.id="confirmModalConfirmBtn",r.appendChild(document.createTextNode("Confirm"));var o=document.createElement("button");if(o.className="btn btn-border-light",o.id="confirmModalCancelBtn",o.appendChild(document.createTextNode("Cancel")),n.appendChild(r),n.appendChild(o),t){var i=t.btnName,a=t.btnID,c=document.createElement("button");c.className="btn btn-light",c.id=a,c.appendChild(document.createTextNode(i)),r.insertAdjacentElement("afterend",c)}return n}},{key:"_createConfirmMessage",value:function(e){e||(e="Are you sure?");var t=document.createElement("p");return t.appendChild(document.createTextNode(e)),t}}],n&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const f=s;function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function y(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:String(t)}const p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"display",value:function(){if(!document.querySelector(".loading-modal")){var e=document.createElement("div");e.className="loading-modal";var t=document.createElement("span");t.className="spinner",e.appendChild(t),document.body.appendChild(e)}}},{key:"remove",value:function(){var e=document.querySelector(".loading-modal");e&&e.remove()}}],null&&d(t.prototype,null),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cta",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;"string"!=typeof e&&(e=""),"string"==typeof t&&""!==t||(t="cta");var r=document.createElement("div");r.className="popup","danger"===t&&(r.style.background="#bd2130",r.style.color="#faf8ff"),"success"===t&&(r.style.background="#28a745");var o=document.createElement("p");o.className="popup-message",o.appendChild(document.createTextNode(e)),document.querySelector(".popup")&&document.querySelector(".popup").remove(),r.appendChild(o),document.body.appendChild(r),requestAnimationFrame((function(){requestAnimationFrame((function(){r.style.transform="translateY(0)"}))})),setTimeout((function(){r.style.transform="translateY(-10rem)",setTimeout((function(){return r.remove()}),n)}),2e3)};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function g(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:String(t)}var S=new o,C=new f;function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function E(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:String(t)}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._linksContainer=document.querySelector(".links-container"),this._linksContainerFirstBtn=document.querySelector("#linksContainerFirstBtn"),this._linksContainerSecondBtn=document.querySelector("#linksContainerSecondBtn"),this._loadEventListeners()}var t,n;return t=e,(n=[{key:"_loadEventListeners",value:function(){window.addEventListener("DOMContentLoaded",this._updateLinksContainer.bind(this)),this._linksContainer.addEventListener("click",this._handleLinksContainerEvents.bind(this))}},{key:"_updateLinksContainer",value:function(){a()&&(this._linksContainerFirstBtn.textContent="Sign out",this._linksContainerFirstBtn.href="#",this._linksContainerFirstBtn.classList.add("signOut"),this._linksContainerSecondBtn.textContent="History",this._linksContainerSecondBtn.href="history.html",this._linksContainerSecondBtn.className="btn btn-light")}},{key:"_handleLinksContainerEvents",value:function(e){e.preventDefault(),e.target.classList.contains("signOut")?this._signOut():window.location.href=e.target.href}},{key:"_signOut",value:function(){C.display("Are you sure you want to sign out?");var e=document.querySelector(".confirm-modal");e.addEventListener("click",(function t(n){if(C.isExitClick(n))return e.removeEventListener("click",t),void C.remove();"confirmModalConfirmBtn"===n.target.id&&(e.removeEventListener("click",t),C.remove(),p.display(),S.remove("loginToken"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Something went wrong",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"danger";if(!e||"string"!=typeof e||!e.endsWith(".html")||e.includes(" "))return v("Something went wrong","danger"),void setTimeout((function(){return window.location.href="index.html"}),1e3);("number"!=typeof t||t<=0)&&(t=1e3),sessionStorage.getItem("unsavedSessionChanges")&&sessionStorage.removeItem("unsavedSessionChanges"),v(n,r),setTimeout((function(){return window.location.href=e}),t)}("index.html",1e3,"Signed out successfully","success"))}))}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._heroBtnContainer=document.querySelector(".hero .btn-container"),this._heroSignUpBtn=document.querySelector("#hero-sign-up-btn"),this.loadEventListeners()}var t,n;return t=e,(n=[{key:"loadEventListeners",value:function(){window.addEventListener("DOMContentLoaded",this._displayHeroButtons.bind(this))}},{key:"_displayHeroButtons",value:function(){a()&&(this._heroSignUpBtn.style.display="none")}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())})();